"0","pr <- 0.8"
"0","alpha <- 0.025"
"0","medS_con <- 10"
"0","medSc_con <- 11"
"0","accrual_duration <- 20"
"0","IF <- 0.4"
"0","nS <- 400"
"0","nF <- 400/pr"
"0","nSc <- nF - nS"
"0","hrS <- 0.7"
"0","hrSc <- 0.81"
"0","maturity <- 0.7"
"0","(targetEvents_S <- c(nS*maturity*IF, nS*maturity))"
"1","[1]"
"1"," 112"
"1"," 280"
"1","
"
"0","(hrF <- exp(pr*log(hrS)+(1-pr)*log(hrSc))) # HR for F"
"1","[1]"
"1"," 0.7207347"
"1","
"
"0","# design"
"0","d <- getDesignGroupSequential("
"0","  kMax = 2,"
"0","  alpha = alpha,"
"0","  sided = 1,"
"0","  informationRates = targetEvents_S/targetEvents_S[2],"
"0","  typeOfDesign = ""noEarlyEfficacy"""
"0",")"
"0","# power for S"
"0","dS <- getPowerSurvival(design = d, hazardRatio = hrS, "
"0","                       maxNumberOfEvents = targetEvents_S[2],"
"0","                       lambda2 = log(2) / medS_con, "
"0","                       accrualTime = c(0, accrual_duration), "
"0","                       accrualIntensity = nS/accrual_duration,"
"0","                       directionUpper = FALSE)"
"0","times <- dS$analysisTime"
"0","# expected number of events for S^c"
"0","probEvent <- getEventProbabilities(time = times, "
"0","    hazardRatio = hrSc, maxNumberOfSubjects = nSc, "
"0","    lambda2 = log(2) / medSc_con,"
"0","    accrualTime = c(0, accrual_duration), accrualIntensity = nSc/accrual_duration"
"0",")"
"0","(targetEvents_Sc <- ceiling(probEvent$overallEventProbabilities*nSc))"
"1","[1]"
"1"," 28"
"1"," 70"
"1","
"
"0","# expected number of events for F"
"0","(targetEvents_F <- (targetEvents_Sc+targetEvents_S)) "
"1","[1]"
"1"," 140"
"1"," 350"
"1","
"
"0","# power for F"
"0","dF <- getPowerSurvival(design = d, hazardRatio = hrF, "
"0","                       maxNumberOfEvents = targetEvents_F[2],"
"0","                       lambda2 = log(2) / (medS_con*pr+medSc_con*(1-pr)), "
"0","                       accrualTime = c(0, accrual_duration), "
"0","                       accrualIntensity = nF/accrual_duration,"
"0","                       directionUpper = FALSE)"
"0","dF$overallReject"
"1","[1]"
"1"," 0.8650667"
"1","
"
